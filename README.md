# Асинхронный чат
Скрипт клиента для асинхронного чата

## Установка
Python 3.9+ должен быть установлен

Для установки зависимостей используйте
```commandline
pip install -r requirements.txt
```

Настройки чата можно определить, задав их через переменные окружения, дял этого в директории проекта создайте файл `.env` и заполните его в следующем виде:
```
LOG_LEVEL=уровень логирования ('DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL')
CHAT_HOST=адрес чата
CHAT_WRITE_PORT=порт чата для отправки сообщений
CHAT_READER_PORT=порт чата для прослушки сообщений
HISTORY_PATH=путь к файлу с историей чата
HASH_PATH=путь к файлу с хешем пользователя(не используется, если указан токен пользователя)
USER_TOKEN=токен пользователя
USER_NAME=имя пользователя от которого будут отправляться сообщения в чат
```
Все настройки являются необязательными.

## Использование
### Прослушка чата

Для прослушки сообщений запустите скрип `listen_chat.py`

Доступны следующие опциональные аргументы:
- `-l` или `--log` - уровень логирования ('DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL')
- `--history` - путь к файлу с историей чата
- `--host` - адрес чата
- `--port` - порт чата для прослушки сообщений

Пример запуска:
```commandline
python listen_chat.py -l DEBUG --host 127.0.0.1 --port 5000
```
Запустит прослушку сообщений из чата по адресу 127.0.0.1:5000 с выводом отладочных сообщений.

### Отправка сообщений

Для отправки сообщения в чат запустите скрипт `chat_writer.py` с обязательным аргументом `message` - содержащим сообщение.

Доступны следующие опциональные аргументы:
- `-l` или `--log` - уровень логирования ('DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL')
- `--host` - адрес чата
- `--port` - порт чата для прослушки сообщений
- `--hash` - путь к файлу с хешем пользователя(не используется, если указан токен пользователя)
- `--token` - токен пользователя
- `--user_name` - имя пользователя от которого будут отправляться сообщения в чат
